---
import TimelineCard from "@/components/TimelineCard.astro";
import { loadI18n } from "@/utils/i18n";
import data from "@/assets/cv/experience.json";

const lang = Astro.currentLocale || "en";
const t = await loadI18n({ lang, asset: "pages/home" });

const experience = data[lang as keyof typeof data];
---

<div class="flex-1">
  <h3 class="text-heading2 font-semibold">{t("trajectory.experienceTitle")}</h3>

  <ol>
    {
      experience.map((item) => (
        <TimelineCard
          title={item.position}
          subtitle={item.company}
          description={item.description}
          startDate={item.startDate}
          endDate={item.endDate}
          skills={item.skills}
        />
      ))
    }
  </ol>
</div>
